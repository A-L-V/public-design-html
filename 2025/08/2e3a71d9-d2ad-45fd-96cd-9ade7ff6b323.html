<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Dibujo Tulipanes</title>
<style>
  body { margin: 0; overflow: hidden; background: #fff; }
  canvas { display: block; }
</style>
</head>
<body>
<canvas id="canvas"></canvas>

<script>
// URL raw de tu JSON en GitHub
const urlJSON = "https://raw.githubusercontent.com/Baque2005/public-files/refs/heads/main/2025/08/Tulipanes.json";

const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

fetch(urlJSON)
  .then(res => res.json())
  .then(data => {
    if (!Array.isArray(data)) {
      console.error("El JSON no es un array:", data);
      return;
    }

    data.forEach(item => {
      if (!item || !item.coords || !item.color) return; // ignora objetos vacÃ­os

      const coords = item.coords;
      const col = item.color;

      if (!Array.isArray(coords) || !Array.isArray(col)) return; // ignora si no son arrays

      ctx.fillStyle = `rgb(${col[0]*255}, ${col[1]*255}, ${col[2]*255})`;
      ctx.beginPath();

      coords.forEach((point, i) => {
        if (!Array.isArray(point) || point.length < 2) return; // ignora puntos mal formados
        let x = point[0] + canvas.width/2;
        let y = -point[1] + canvas.height/2;
        if (i === 0) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      });

      ctx.closePath();
      ctx.fill();
    });
  })
  .catch(err => console.error("Error cargando JSON:", err));
</script>
</body>
</html>
